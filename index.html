<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Symptom Navigator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .click-zone {
      position: absolute;
      cursor: pointer;
      background-color: rgba(0, 255, 0, 0.2);
    }
  </style>
</head>
<body class="bg-green-50 text-gray-800 font-sans min-h-screen">
  <!-- Header -->
  <header class="bg-green-100 text-center py-4 shadow">
    <h1 class="text-2xl font-bold">ü©∫ Symptom Navigator</h1>
  </header>  <!-- Gender Selection -->  <div id="gender-selection" class="text-center py-6">
    <h2 class="text-lg font-semibold mb-4">Select Gender</h2>
    <button onclick="selectGender('male')" class="bg-green-500 text-white px-4 py-2 rounded-full mx-2">Male</button>
    <button onclick="selectGender('female')" class="bg-green-500 text-white px-4 py-2 rounded-full mx-2">Female</button>
  </div>  <!-- Image Display and Click Zones -->  <div id="body-section" class="relative flex justify-center hidden">
    <img id="body-image" src="" alt="Body Model" class="max-w-xs" /><!-- Clickable zones -->
<div class="click-zone" style="top: 10%; left: 40%; width: 20%; height: 10%;" onclick="zoneClicked('Head')"></div>
<div class="click-zone" style="top: 20%; left: 40%; width: 20%; height: 10%;" onclick="zoneClicked('Chest')"></div>
<div class="click-zone" style="top: 35%; left: 40%; width: 20%; height: 15%;" onclick="zoneClicked('Abdomen')"></div>
<div class="click-zone" style="top: 55%; left: 25%; width: 15%; height: 20%;" onclick="zoneClicked('Left Hand')"></div>
<div class="click-zone" style="top: 55%; left: 60%; width: 15%; height: 20%;" onclick="zoneClicked('Right Hand')"></div>
<div class="click-zone" style="top: 80%; left: 35%; width: 12%; height: 15%;" onclick="zoneClicked('Left Leg')"></div>
<div class="click-zone" style="top: 80%; left: 52%; width: 12%; height: 15%;" onclick="zoneClicked('Right Leg')"></div>

  </div>  <!-- Output -->  <div id="output" class="text-center mt-6 text-lg font-medium"></div>  <!-- Follow-up Questions -->  <div id="followup-section" class="text-center mt-6 hidden">
    <h3 class="text-xl font-semibold">Follow-Up Questions</h3>
    <div id="followup-questions" class="mt-4 space-y-2"></div>
    <button onclick="submitFollowup()" class="mt-4 bg-green-600 text-white px-4 py-2 rounded">Submit Follow-Up</button>
  </div>  <script>
    function selectGender(gender) {
      const imageElement = document.getElementById('body-image');
      const section = document.getElementById('body-section');
      const genderSection = document.getElementById('gender-selection');
      if (gender === 'male') {
        imageElement.src = 'https://i.postimg.cc/c4SPF0Gj/IMG-20250613-WA0005.jpg';
      } else {
        imageElement.src = 'https://i.postimg.cc/hjBgqx78/24469993-realistic-front-muscles-of-woman-isolated-in-white-background.jpg';
      }
      genderSection.classList.add('hidden');
      section.classList.remove('hidden');
    }

    const symptomsData = {
      "Head": ["Headache", "Dizziness", "Blurred Vision", "Nausea"],
      "Chest": ["Chest Pain", "Shortness of Breath", "Cough", "Palpitations"],
      "Abdomen": ["Stomach Pain", "Bloating", "Nausea", "Vomiting"],
      "Left Hand": ["Numbness", "Pain", "Swelling", "Weak Grip"],
      "Right Hand": ["Tingling", "Pain", "Swelling", "Cold Sensation"],
      "Left Leg": ["Cramping", "Swelling", "Tingling", "Numbness"],
      "Right Leg": ["Pain", "Stiffness", "Burning Sensation", "Fatigue"]
    };

    const followupBank = {
      "Head": ["Is it a throbbing headache?", "Do you have nausea?", "Is there light sensitivity?"],
      "Chest": ["Do you feel breathlessness?", "Is there chest tightness?", "Does the pain increase while breathing?"],
      "Abdomen": ["Is the pain after eating?", "Do you feel bloated?", "Do you have diarrhea?"]
    };

    let selectedZone = "";
    let selectedSymptoms = [];
    let followupAnswers = [];

    function zoneClicked(part) {
      selectedZone = part;
      const output = document.getElementById('output');
      const symptoms = symptomsData[part] || [];

      const checkboxes = symptoms.map(s => `
        <label class="block">
          <input type="checkbox" name="symptom" value="${s}" class="mr-2" />
          ${s}
        </label>
      `).join('');

      output.innerHTML = `
         <strong>${part}</strong> selected.
        <div class="mt-4 text-left inline-block">
          <form id="symptom-form">
            ${checkboxes}
            <button type="button" onclick="showCauses('${part}')" class="mt-4 bg-green-500 text-white px-4 py-2 rounded">Find Causes</button>
          </form>
        </div>
      `;

      showFollowupQuestions(part);
    }

   function showCauses(part) {
  selectedSymptoms = [...document.querySelectorAll('input[name="symptom"]:checked')].map(cb => cb.value);
  const output = document.getElementById('output');

  if (selectedSymptoms.length === 0) {
    output.innerHTML += `<p class="text-red-600 mt-2">Please select at least one symptom.</p>`;
    return;
  }

  const causes = {
    "Headache": ["Migraine", "Tension headache", "Dehydration"],
    "Dizziness": ["Low BP", "Inner ear issue", "Vertigo"],
    "Blurred Vision": ["Fatigue", "High BP", "Sugar"],
    "Chest Pain": ["Heart disease", "Muscle strain", "Acidity"],
    "Cough": ["Cold", "Allergy", "Asthma"],
    "Stomach Pain": ["Constipation", "Acidity", "Digestive issues"],
    "Swelling": ["Allergy", "Organ inflammation", "Fluid retention"]
  };

  let resultSet = new Set();
  selectedSymptoms.forEach(sym => {
    (causes[sym] || ["No known causes"]).forEach(c => resultSet.add(c));
  });

  const causeList = [...resultSet].map(c => `<li>${c}</li>`).join('');
  output.innerHTML += `
    <div class="mt-4">
      <strong>Possible Causes based on selected symptoms:</strong>
      <ul class="list-disc list-inside mt-2 text-left inline-block">${causeList}</ul>
    </div>
  `;
}

    function showFollowupQuestions(zone) {
      const box = document.getElementById("followup-questions");
      box.innerHTML = "";
      followupAnswers = [];
      const questions = followupBank[zone] || [];

      questions.forEach((q, i) => {
        const div = document.createElement("div");
        div.innerHTML = `
          <p>${q}</p>
          <select onchange="saveFollowup(${i}, this.value)" class="border rounded px-2 py-1">
            <option value="">Select</option>
            <option>Yes</option>
            <option>No</option>
          </select>
        `;
        box.appendChild(div);
      });

      document.getElementById("followup-section").classList.remove("hidden");
    }

    function saveFollowup(index, value) {
      followupAnswers[index] = {
        question: followupBank[selectedZone][index],
        answer: value
      };
    }

   function submitFollowup() {
  const selectedSymptoms = [...document.querySelectorAll('input[name="symptom"]:checked')].map(cb => cb.value);

  const finalData = {
    part: selectedZone,
    symptoms: selectedSymptoms,
    answers: followupAnswers
  };

  console.log("üß† Structured Data:", finalData);

  const output = document.getElementById('output');
  output.innerHTML = `
    <div class="mt-6 p-4 bg-white rounded shadow max-w-lg mx-auto text-left">
      <h2 class="text-xl font-semibold mb-2">üìù Summary</h2>
      <p><strong>Selected Body Part:</strong> ${finalData.part}</p>
      <p><strong>Symptoms Selected:</strong> ${finalData.symptoms.join(', ')}</p>
      <p><strong>Follow-up Answers:</strong></p>
      <ul class="list-disc list-inside">
        ${finalData.answers.map(ans => `<li>${ans.answer}</li>`).join('')}
      </ul>

      <p class="mt-4"><strong>Structured JSON Data:</strong></p>
      <pre class="bg-gray-100 p-2 rounded text-sm overflow-auto">
${JSON.stringify(finalData, null, 2)}
      </pre>

      <button onclick="window.location.reload()" class="mt-4 bg-red-500 text-white px-4 py-2 rounded">Start Over</button>
    </div>
  `;

  // ‚¨áÔ∏è Get doctor recommendations
  const { specialists, tests, actions } = analyzeSymptoms();

const viewBtn = document.createElement("button");
viewBtn.textContent = "View Doctor Summary";
viewBtn.className = "mt-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-all";
viewBtn.onclick = function () {
  showDoctorSummary(finalData, specialists, tests, actions);
};
output.appendChild(viewBtn);
}
  
function showDoctorSummary(finalData, specialistList, testList, actionList) {
  const summaryBox = document.getElementById("summary-content");
  const docView = document.getElementById("doctor-summary");

  summaryBox.innerHTML = `
    <p><strong>üïí Timestamp:</strong> ${new Date().toLocaleString()}</p>
    <p><strong>üßç‚Äç‚ôÇÔ∏è Selected Body Part:</strong> ${finalData.part}</p>
    <p><strong>ü©π Symptoms:</strong> ${finalData.symptoms.join(', ') || 'None'}</p>
    <p><strong>üìã Follow-up Q&A:</strong></p>
    <ul class="list-disc ml-4">
      ${finalData.answers.map(a => `<li>${a.question} - <em>${a.answer}</em></li>`).join('')}
    </ul>
    <p><strong>üë®‚Äç‚öïÔ∏è Suggested Specialists:</strong> ${specialistList.join(', ') || 'N/A'}</p>
    <p><strong>üß™ Recommended Tests:</strong> ${testList.join(', ') || 'N/A'}</p>
    <p><strong>üí° Advice:</strong></p>
    <ul class="list-disc ml-4">
      ${actionList.map(a => `<li>${a}</li>`).join('')}
    </ul>
  `;

  docView.classList.remove("hidden");
}
function closeDoctorSummary() {
  document.getElementById("doctor-summary").classList.add("hidden");
}
function analyzeSymptoms() {
   const specialistSet = new Set();
  const testSet = new Set();
  const actions = [];

  const recommendationRules = {
    "Headache": {
      specialist: "Neurologist",
      tests: ["MRI", "Hydration Check"],
      action: "Rest in dark room. If persistent, consult Neurologist."
    },
    "Dizziness": {
      specialist: "General Physician",
      tests: ["BP Check", "Sugar Levels"],
      action: "Hydrate and rest. Visit doctor if it continues."
    },
    "Blurred Vision": {
      specialist: "Ophthalmologist",
      tests: ["Eye Test", "Sugar Test"],
      action: "Avoid screen time. Schedule an eye checkup."
    },
    "Nausea": {
      specialist: "Gastroenterologist",
      tests: ["Stool Test"],
      action: "Take ORS. If frequent, see a doctor."
    },
    "Chest Pain": {
      specialist: "Cardiologist",
      tests: ["ECG", "Chest X-Ray"],
      action: "Seek medical attention immediately."
    },
    "Shortness of Breath": {
      specialist: "Pulmonologist",
      tests: ["Chest X-Ray", "Pulse Oxymeter"],
      action: "Sit upright. If severe, go to ER."
    },
    "Palpitations": {
      specialist: "Cardiologist",
      tests: ["ECG", "Blood Pressure"],
      action: "Reduce caffeine. Monitor heart rate."
    },
    "Swelling": {
      specialist: "Orthopedic",
      tests: ["X-Ray", "Blood Test"],
      action: "Apply ice. Visit doctor if swelling increases."
    },
    "Stomach Pain": {
      specialist: "Gastroenterologist",
      tests: ["Ultrasound", "Stool Test"],
      action: "Avoid spicy food. See doctor if pain is severe."
    }
  };

 selectedSymptoms.forEach(symptom => {
    const rule = recommendationRules[symptom];
    if (rule) {
      specialistSet.add(rule.specialist);
      rule.tests.forEach(t => testSet.add(t));
      actions.push(rule.action);
    }
  });

  return {
    specialists: [...specialistSet],
    tests: [...testSet],
    actions
  };
}

 
  </script>
  <!-- Doctor Summary Modal -->
<div id="doctor-summary" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white p-6 rounded-lg w-full max-w-xl shadow-lg">
    <h2 class="text-2xl font-bold mb-4">ü©∫ Doctor View: Patient Summary</h2>
    <div id="summary-content" class="text-left text-sm space-y-2"></div>
    <button onclick="closeDoctorSummary()" class="mt-4 bg-red-500 text-white px-4 py-2 rounded">Close</button>
  </div>
</div>
  </body>
</html>